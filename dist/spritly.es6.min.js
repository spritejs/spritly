module.exports=function(t){var e={};function i(n){if(e[n])return e[n].exports;var _=e[n]={i:n,l:!1,exports:{}};return t[n].call(_.exports,_,_.exports,i),_.l=!0,_.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var _ in t)i.d(n,_,function(e){return t[e]}.bind(null,_));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=15)}([function(t,e){t.exports=require("Blockly")},function(t,e,i){const n=i(0),{Msg:_}=n;_.SPRITE_HUE=330,_.ATTRS_HUE=130,_.ATTRS_SPRITE_HUE=140,_.ATTRS_LABEL_HUE=150,_.ATTRS_PATH_HUE=160,_.EASING_HUE=90,_.ANIMATE_HUE=345,_.SIGNALS_HUE=55,_.LITERAL_HUE=250,_.GETTER_SETTER_HUE=120,_.STORE_HUE=70,_.FLOWS_HUE=220,_.MATH_HUE=270,_.LOG_HUE=310,_.SOUND_HUE=45,_.PROCEDURE_HUE=290},function(t,e,i){const n=i(0),{Msg:_}=n;_.COMMON_FGLAYER="å‰æ™¯å›¾å±‚",_.COMMON_BGLAYER="èƒŒæ™¯å›¾å±‚",_.COMMON_TARGET="ç›®æ ‡å…ƒç´ ",_.COMMON_SENDER="å‘é€è€…",_.COMMON_RECEIVER="æŽ¥æ”¶è€…",_.COMMON_SPRITE="ç²¾çµå…ƒç´ ",_.COMMON_LABEL="æ–‡æœ¬å…ƒç´ ",_.COMMON_PATH="çŸ¢é‡å…ƒç´ ",_.CATEGORY_SIGNALS="ä¿¡å·",_.CATEGORY_PROCEDURE="è¿‡ç¨‹",_.CATEGORY_SPRITES="å…ƒç´ å¯¹è±¡",_.CATEGORY_ATTRIBUTES="å…ƒç´ å±žæ€§",_.CATEGORY_ATTRIBUTES_COMMON="å…¬å…±å±žæ€§",_.CATEGORY_ATTRIBUTES_SPRITE="ç²¾çµå±žæ€§",_.CATEGORY_ATTRIBUTES_LABEL="æ–‡æœ¬å±žæ€§",_.CATEGORY_ATTRIBUTES_PATH="çŸ¢é‡å±žæ€§",_.CATEGORY_ANIM_ASYNC="åŠ¨ç”»å’Œå¼‚æ­¥",_.CATEGORY_GETTER_SETTER="å±žæ€§è¯»å†™",_.CATEGORY_STORE="å…±äº«æ•°æ®",_.CATEGORY_LITERALS="å­—é¢é‡",_.CATEGORY_LISTS="åˆ—è¡¨å¯¹è±¡",_.CATEGORY_MATH="æ•°å­¦è®¡ç®—",_.CATEGORY_LOGIC="é€»è¾‘åˆ¤æ–­",_.CATEGORY_FLOWS="å¾ªçŽ¯å’Œæ¡ä»¶",_.CATEGORY_LOG="æ—¥å¿—è¾“å‡º",_.CATEGORY_SOUND="éŸ³æ•ˆ",_.SENDER_RECEIVER_TARGET_TOOLTIP="å‘é€è€…ï¼šå‘é€ä¿¡å·çš„å…ƒç´ ã€‚\næŽ¥æ”¶è€…ï¼šæŽ¥æ”¶ä¿¡å·çš„å…ƒç´ ã€‚\nç›®æ ‡å…ƒç´ ï¼šå¦‚æžœä¿¡å·ç”±äº‹ä»¶è§¦å‘ï¼Œç›®æ ‡å…ƒç´ æ˜¯å®žé™…äº‹ä»¶ç›®æ ‡ã€‚",_.FGLAYER_BGLAYER_TOOTIP="å‰æ™¯å›¾å±‚æŽ¥æ”¶DOMäº‹ä»¶ï¼Œ\nèƒŒæ™¯å›¾å±‚ä¸æŽ¥æ”¶DOMäº‹ä»¶ã€‚",_.LITERAL_NULL="ç©º",_.LITERAL_UNDEFINED="æœªå®šä¹‰",_.NIL_TOOLTIP="%1å€¼ã€‚",_.OBJECT_CREATE_TOOLTIP="æž„é€ ä¸€ä¸ªå¯¹è±¡ã€‚",_.LOOP_GET_INDEX_MSG0="ç´¢å¼•å€¼",_.LOOP_GET_INDEX_TOOLTIP="å¾ªçŽ¯ä¸­çš„ç´¢å¼•å€¼ã€‚",_.ATTR_ID="ID",_.ATTR_NAME="åå­—",_.ATTR_ANCHORX="Xå‘é”š",_.ATTR_ANCHORY="Yå‘é”š",_.ATTR_X="Xåæ ‡",_.ATTR_Y="Yåæ ‡",_.ATTR_WIDTH="å®½",_.ATTR_HEIGHT="é«˜",_.ATTR_BGCOLOR="èƒŒæ™¯è‰²",_.ATTR_OPACITY="é€æ˜Žåº¦",_.ATTR_SCALEX="Xå‘æ‹‰ä¼¸",_.ATTR_SCALEY="Yå‘æ‹‰ä¼¸",_.ATTR_TRANSLATEX="Xå‘å¹³ç§»",_.ATTR_TRANSLATEY="Yå‘å¹³ç§»",_.ATTR_SKEWX="Xå‘æ‰­æ›²",_.ATTR_SKEWY="Yå‘æ‰­æ›²",_.ATTR_ROTATE="é€†æ—¶é’ˆæ—‹è½¬",_.ATTR_BORDERRADIUS="åœ†è§’åŠå¾„",_.ATTR_BORDERWIDTH="è¾¹æ¡†çº¿å®½",_.ATTR_BORDERSTYLE="è¾¹æ¡†æ ·å¼",_.ATTR_BORDERCOLOR="è¾¹æ¡†é¢œè‰²",_.ATTR_DASHOFFSET="è™šçº¿æ¡†åç§»",_.ATTR_TEXTURE="å›¾ç‰‡çº¹ç†",_.ATTR_TEXT="æ–‡æœ¬",_.ATTR_FONTSIZE="å­—å·",_.ATTR_FONTFAMILY="å­—ä½“",_.ATTR_FONTSTYLE="å­—ä½“æ ·å¼",_.ATTR_FONTVARIANT="å­—ä½“å˜ä½“",_.ATTR_FONTWEIGHT="å­—ä½“ç²—ç»†",_.ATTR_TEXTALIGN="æ–‡æœ¬å¯¹é½",_.ATTR_LINEHEIGHT="æ–‡æœ¬è¡Œé«˜",_.ATTR_D="SVGè·¯å¾„",_.ATTR_LINEWIDTH="è·¯å¾„çº¿å®½",_.ATTR_LINEDASH="è·¯å¾„è™šçº¿æ ·å¼",_.ATTR_LINEDASHOFFSET="è·¯å¾„è™šçº¿åç§»",_.ATTR_LINECAP="çº¿å¸½æ ·å¼",_.ATTR_LINEJOIN="è¿žçº¿æ ·å¼",_.ATTR_BOUNDING="ç¢°æ’žè¾¹ç•Œ",_.ATTR_STROKECOLOR="æçº¿é¢œè‰²",_.ATTR_FILLCOLOR="å¡«å……é¢œè‰²",_.ATTR_CURSOR="é¼ æ ‡æ ·å¼",_.ATTR_DRAGGABLE="å¯æ‹–æ‹½ï¼Ÿ",_.ATTR_VALUE_YES="æ˜¯",_.ATTR_VALUE_NO="å¦",_.ATTR_VALUE_SOLID="å®žçº¿",_.ATTR_VALUE_DASHED="è™šçº¿",_.ATTR_VALUE_NORMAL="å¸¸è§„",_.ATTR_VALUE_BOLD="ç²—ä½“",_.ATTR_VALUE_LIGHTER="ç»†ä½“",_.ATTR_VALUE_ITALIC="æ–œä½“",_.ATTR_VALUE_OBLIQUE="å€¾æ–œ",_["ATTR_VALUE_SMALL-CAPS"]="å°åž‹å¤§å†™",_.ATTR_VALUE_LEFT="é å·¦",_.ATTR_VALUE_RIGHT="é å³",_.ATTR_VALUE_CENTER="å±…ä¸­",_.ATTR_VALUE_BUTT="å¹³ç›´",_.ATTR_VALUE_ROUND="åœ†å½¢",_.ATTR_VALUE_SQUARE="æ–¹å½¢",_.ATTR_VALUE_MITER="å°–è§’",_.ATTR_VALUE_BEVEL="æ–œè§’",_.ATTR_VALUE_BOX="åŸºäºŽç›’å­",_.ATTR_VALUE_PATH="åŸºäºŽè·¯å¾„",_.ATTR_VALUE_DEFAULT="é»˜è®¤",_.ATTR_VALUE_CROSSHAIR="åå­—çº¿",_.ATTR_VALUE_POINTER="æ‰‹å½¢",_.ATTR_VALUE_MOVE="å¯è¢«ç§»åŠ¨",_["ATTR_VALUE_E-RESIZE"]="å¯å³ç§»",_["ATTR_VALUE_NE-RESIZE"]="å¯å³ä¸Šç§»",_["ATTR_VALUE_SE-RESIZE"]="å¯å³ä¸‹ç§»",_["ATTR_VALUE_W-RESIZE"]="å¯å·¦ç§»",_["ATTR_VALUE_NW-RESIZE"]="å¯å·¦ä¸Šç§»",_["ATTR_VALUE_SW-RESIZE"]="å¯å·¦ä¸‹ç§»",_["ATTR_VALUE_N-RESIZE"]="å¯ä¸Šç§»",_["ATTR_VALUE_S-RESIZE"]="å¯ä¸‹ç§»",_.ATTR_VALUE_TEXT="æ–‡æœ¬",_.ATTR_VALUE_WAIT="ç­‰å¾…",_.ATTR_VALUE_HELP="å¸®åŠ©",_.AWAIT_MSG0="ç­‰å¾… %1 æ¯«ç§’ ðŸ•™",_.AWAIT_TOOLTIP="ç­‰å¾… %1 æ¯«ç§’åŽç»§ç»­æ‰§è¡ŒåŽç»­æ“ä½œã€‚",_.AWAIT_FRAME_MSG0="ç­‰å¾… %1 æ›´æ–°åˆ°ä¸‹ä¸€å¸§ âŒ›",_.AWAIT_FRAME_TOOLTIP="ç­‰å¾…å›¾å±‚æ›´æ–°åŽç»§ç»­æ‰§è¡ŒåŽç»­æ“ä½œã€‚",_.SPRITE_ANIMATE_MSG0="%1 %2 åŠ¨ç”»æŒç»­ %3 ç§’",_.SPRITE_ANIMATE_MSG1="èµ·å§‹çŠ¶æ€ %1",_.SPRITE_ANIMATE_MSG2="ç»“æŸçŠ¶æ€ %1",_.SPRITE_ANIMATE_MSG3="ç¼“åŠ¨ç­–ç•¥ %1",_.SPRITE_ANIMATE_TOOLTIP="åœ¨æŒ‡å®šå…ƒç´ ä¸Šæ‰§è¡ŒåŠ¨ç”»æ“ä½œã€‚",_.SPRITE_ANIMATE_OPTION_ASYNC_DEFAULT="âš¡ï¸ ç«‹å³æ‰§è¡Œ",_.SPRITE_ANIMATE_OPTION_ASYNC_AWAIT="âŒ›ï¸ æ‰§è¡Œå¹¶ç­‰å¾…",_.EASING_MSG0="%1",_.EASING_OPTION_EASING_EASE="åŒ€é€Ÿ",_.EASING_OPTION_EASING_EASEIN="åŒ€åŠ é€Ÿ",_.EASING_OPTION_EASING_EASEOUT="åŒ€å‡é€Ÿ",_.EASING_OPTION_EASING_EASEINOUT="å…ˆåŠ é€ŸåŽå‡é€Ÿ",_.EASING_OPTION_TOOLTIP="ä¸ºåŠ¨ç”»è®¾ç½®ç¼“åŠ¨ç­–ç•¥ã€‚",_.BEZIER_EASING_MSG0="è´å¡žå°”æ›²çº¿ %1 %2 %3 %4",_.BEZIER_EASING_TOOLTIP="å°†åŠ¨ç”»ç¼“åŠ¨ç­–ç•¥è®¾ç½®ä¸ºè´å¡žå°”æ›²çº¿ã€‚",_.FIELD_ATTR_INC_MSG0="%1 %2",_.FIELD_ATTR_INC_TOOLTIP="åœ¨åŽŸå€¼åŸºç¡€ä¸Šæ”¹å˜å±žæ€§å€¼ã€‚",_.KEYVALUE_MSG0="%1: %2,",_.KEYVALUE_TOOLTIP="è®¾ç½®â€œå±žæ€§-å€¼â€å¯¹ã€‚",_.FIELD_ATTR_ANCHOR_TOOLTIP="è®¾ç½®å…ƒç´ çš„%1ã€‚",_.FIELD_ATTR_XY_TOOLTIP="è®¾ç½®å…ƒç´ çš„%1ã€‚",_.FIELD_ATTR_SIZE_TOOLTIP="è®¾ç½®å…ƒç´ çš„%1ã€‚",_.FIELD_ATTR_BGCOLOR_TOOLTIP="è®¾ç½®å…ƒç´ çš„èƒŒæ™¯è‰²ã€‚",_.FIELD_ATTR_OPACITY_TOOLTIP="è®¾ç½®å…ƒç´ çš„é€æ˜Žåº¦ã€‚",_.FIELD_ATTR_ROTATE_TOOLTIP="è®¾ç½®å…ƒç´ çš„é€†æ—¶é’ˆæ—‹è½¬è§’åº¦ã€‚",_.FIELD_ATTR_SCALE_TOOLTIP="è®¾ç½®å…ƒç´ çš„%1ã€‚",_.FIELD_ATTR_TRANSLATE_TOOLTIP="è®¾ç½®å…ƒç´ çš„%1ã€‚",_.FIELD_ATTR_SKEW_TOOLTIP="è®¾ç½®å…ƒç´ çš„%1ã€‚",_.FIELD_ATTR_BORDERRADIUS_TOOLTIP="è®¾ç½®å…ƒç´ çš„åœ†è§’åŠå¾„ã€‚",_.FIELD_ATTR_BORDERWIDTH_TOOLTIP="è®¾ç½®å…ƒç´ çš„è¾¹æ¡†å®½åº¦ã€‚",_.FIELD_ATTR_BORDERSTYLE_TOOLTIP="è®¾ç½®å…ƒç´ çš„è¾¹æ¡†æ ·å¼ã€‚",_.FIELD_ATTR_BORDERCOLOR_TOOLTIP="è®¾ç½®å…ƒç´ çš„è¾¹æ¡†é¢œè‰²ã€‚",_.FIELD_ATTR_DASHOFFSET_TOOLTIP="å¦‚æžœå…ƒç´ è¾¹æ¡†æ ·å¼ä¸ºè™šçº¿ï¼Œè®¾ç½®è¾¹æ¡†è™šçº¿çš„åç§»é‡ã€‚",_.FIELD_ATTR_TEXTURE_TOOLTIP="è®¾ç½®ç²¾çµå…ƒç´ çš„å›¾ç‰‡çº¹ç†ã€‚",_.FIELD_ATTR_TEXT_TOOLTIP="è®¾ç½®æ–‡æœ¬å…ƒç´ çš„å†…å®¹ã€‚",_.FIELD_ATTR_FONTSIZE_TOOLTIP="è®¾ç½®æ–‡æœ¬å…ƒç´ çš„å­—å·ã€‚",_.FIELD_ATTR_FONTFAMILY_TOOLTIP="è®¾ç½®æ–‡æœ¬å…ƒç´ çš„å­—ä½“ã€‚",_.FIELD_ATTR_FONTSTYLE_TOOLTIP="è®¾ç½®æ–‡æœ¬å…ƒç´ çš„å­—ä½“æ ·å¼ã€‚",_.FIELD_ATTR_FONTVARIANT_TOOLTIP="è®¾ç½®æ–‡æœ¬å…ƒç´ çš„å­—ä½“å˜ä½“ã€‚",_.FIELD_ATTR_FONTWEIGHT_TOOLTIP="è®¾ç½®æ–‡æœ¬å…ƒç´ çš„å­—ä½“ç²—ç»†ã€‚",_.FIELD_ATTR_TEXTALIGN_TOOLTIP="è®¾ç½®æ–‡æœ¬å…ƒç´ çš„æ–‡å­—å¯¹é½æ–¹å¼ã€‚",_.FIELD_ATTR_LINEHEIGHT_TOOLTIP="è®¾ç½®æ–‡æœ¬å…ƒç´ çš„è¡Œé«˜ã€‚",_.FIELD_ATTR_D_TOOLTIP="è®¾ç½®çŸ¢é‡å…ƒç´ çš„SVGè·¯å¾„ã€‚",_.FIELD_ATTR_LINEWIDTH_TOOLTIP="è®¾ç½®çŸ¢é‡å…ƒç´ çš„çº¿å®½ã€‚",_.FIELD_ATTR_LINEDASH_TOOLTIP="å°†çŸ¢é‡å…ƒç´ çš„æçº¿è®¾ä¸ºè™šçº¿ã€‚",_.FIELD_ATTR_LINEDASHOFFSET_TOOLTIP="å¦‚æžœçŸ¢é‡å…ƒç´ çš„æçº¿æ˜¯è™šçº¿ï¼Œè®¾ç½®è™šçº¿åç§»é‡ã€‚",_.FIELD_ATTR_LINECAP_TOOLTIP="è®¾ç½®çŸ¢é‡å…ƒç´ çš„çº¿å¸½æ ·å¼ã€‚",_.FIELD_ATTR_LINEJOIN_TOOLTIP="è®¾ç½®çŸ¢é‡å…ƒç´ çš„è¿žçº¿æ ·å¼ã€‚",_.FIELD_ATTR_BOUNDING_TOOLTIP="ä½¿ç”¨%1çš„è¾¹ç•Œæ–¹å¼æ¥æ£€æµ‹ç¢°æ’žã€‚",_.FIELD_ATTR_STROKECOLOR_TOOLTIP="è®¾ç½®ä¸€ä¸ªçŸ¢é‡å…ƒç´ æˆ–æ–‡æœ¬å…ƒç´ çš„æçº¿é¢œè‰²ã€‚",_.FIELD_ATTR_FILLCOLOR_TOOLTIP="è®¾ç½®ä¸€ä¸ªçŸ¢é‡å…ƒç´ æˆ–æ–‡æœ¬å…ƒç´ çš„å¡«å……é¢œè‰²ã€‚",_.FIELD_ATTR_CURSOR_TOOLTIP="è®¾ç½®å…‰æ ‡å½¢çŠ¶ã€‚",_.FIELD_ATTR_DRAGGABLE_TOOLTIP="å¯æ‹–æ‹½ï¼Ÿ",_.RANDOM_STRING_MSG0="ðŸŽ² éšæœºå­—ç¬¦ä¸²",_.RANDOM_STRING_TOOLTIP="èŽ·å¾—ä¸€ä¸ª11ä¸ªå­—ç¬¦é•¿åº¦çš„éšæœºå­—ç¬¦ä¸²ã€‚",_.RANDOM_COLOUR_RGB_MSG0="ðŸŽ² éšæœºé¢œè‰²",_.RANDOM_COLOUR_RGB_TOOLTIP="èŽ·å¾—ä¸€ä¸ªéšæœºçš„RGBé¢œè‰²ã€‚",_.RANDOM_COLOUR_HUE_MSG0="ðŸŽ² éšæœºè‰²è°ƒ",_.RANDOM_COLOUR_HUE_MSG1="é¥±å’Œ %1% äº® %2% é€æ˜Ž %3.",_.RANDOM_COLOUR_HUE_TOOLTIP="èŽ·å¾—ä¸€ä¸ªéšæœºçš„HSLAé¢œè‰²ã€‚",_.LOG_OPTION_LOG_LOG="è®°å½•",_.LOG_OPTION_LOG_WARN="è­¦å‘Š",_.LOG_OPTION_LOG_ERROR="é”™è¯¯",_.LOG_TOOLTIP="è¾“å‡ºä¿¡æ¯åˆ°æŽ§åˆ¶å°ã€‚",_.LOG_ALERT_MSG0="ðŸ”” å¼¹å‡º %1",_.LOG_ALERT_TOOLTIP="å¼¹å‡ºä¸€ä¸ªä¼šè¯æ¡†ã€‚",_.SIGNAL_DO_MSG0="å½“æ”¶åˆ°ä¿¡å·ä¸º %1 ðŸš© æ‰§è¡Œ",_.SIGNAL_DO_TOOLTIP="å½“æ”¶åˆ°æŒ‡å®šä¿¡å·æ—¶ï¼Œæ‰§è¡ŒåŠ¨ä½œã€‚",_.SIGNAL_DO_OPTION_SIGNAL_START="å¼€å§‹è¿è¡Œ",_.SIGNAL_DO_OPTION_SIGNAL_STORE_PROPERTY_UPDATE="å…±äº«æ•°æ®å†…å®¹æ›´æ–°",_.SIGNAL_DO_OPTION_SIGNAL_LAYER_CLICKED="å‰æ™¯å›¾å±‚è¢«é¼ æ ‡ç‚¹å‡»",_.SIGNAL_DO_OPTION_SIGNAL_KEYDOWN="é”®ç›˜æŒ‰é”®æŒ‰ä¸‹",_.SIGNAL_DO_OPTION_SIGNAL_KEYUP="é”®ç›˜æŒ‰é”®æ¾å¼€",_.SIGNAL_DO_OPTION_SIGNAL_ELEMENT_CREATED="å…ƒç´ è¢«åˆ›å»º",_.SIGNAL_DO_OPTION_SIGNAL_ELEMENT_DESTROYED="å…ƒç´ è¢«é”€æ¯",_.SIGNAL_NEW_SPRITE_AS_RECEIVER_MSG0="æ”¶åˆ°ä¿¡å·ä¸º %1 ðŸš© æ—¶",_.SIGNAL_NEW_SPRITE_AS_RECEIVER_MSG1="åˆ›å»º %1 ä½œä¸ºæŽ¥æ”¶è€…",_.SIGNAL_NEW_SPRITE_AS_RECEIVER_MSG2="IDè®¾ä¸º %1",_.SIGNAL_NEW_SPRITE_AS_RECEIVER_TOOLTIP="æ”¶åˆ°æŸä¸ªä¿¡å·æ—¶ï¼Œæ–°å»ºä¸€ä¸ªå…ƒç´ ä½œä¸ºæŽ¥æ”¶è€…å¹¶æ‰§è¡ŒåŠ¨ä½œã€‚",_.SIGNAL_WHEN_RECEIVER_IS_MSG0="æ”¶åˆ°ä¿¡å· %1 ðŸš©",_.SIGNAL_WHEN_RECEIVER_IS_MSG1="å½“æŽ¥æ”¶è€…ä¸º %1 æ—¶",_.SIGNAL_NEW_SPRITE_AS_RECEIVER_TOOLTIP="æ”¶åˆ°æŸä¸ªä¿¡å·ä¸”æŽ¥æ”¶è€…ä¸ºç‰¹å®šå…ƒç´ æ—¶ï¼Œæ‰§è¡ŒåŠ¨ä½œã€‚",_.GET_DATA_MSG0="æ¶ˆæ¯",_.GET_DATA_TOOLTIP="è¯»å–ä¿¡å·æ¶ˆæ¯ã€‚",_.GET_DATA_PROP_MSG0="æ¶ˆæ¯çš„ %1",_.GET_DATA_PROP_TOOLTIP="è¯»å–ä¿¡å·çš„æ•°æ®å±žæ€§ã€‚å¦‚æžœä¿¡å·æ˜¯ç”±äº‹ä»¶è§¦å‘ï¼Œå¯è¯»å–è¿™äº›å±žæ€§ã€‚",_.GET_DATA_PROP_TOOLTIP2="è¯»å–ä¿¡å·çš„æ•°æ®å±žæ€§ã€‚å¦‚æžœä¿¡å·æ˜¯å­˜å‚¨æ•°æ®æ”¹å˜ï¼Œå¯è¯»å–è¿™äº›å±žæ€§ã€‚",_.GET_DATA_PROP_OPTION_PROP_OFFSETX="ç›¸å¯¹åæ ‡X",_.GET_DATA_PROP_OPTION_PROP_OFFSETY="ç›¸å¯¹åæ ‡Y",_.GET_DATA_PROP_OPTION_PROP_LAYERX="ç»å¯¹åæ ‡X",_.GET_DATA_PROP_OPTION_PROP_LAYERY="ç»å¯¹åæ ‡Y",_.GET_DATA_PROP_OPTION_PROP_ALTKEY="æŒ‰ä¸‹ALTé”®",_.GET_DATA_PROP_OPTION_PROP_CTRLKEY="æŒ‰ä¸‹CTRLé”®",_.GET_DATA_PROP_OPTION_PROP_SHIFTKEY="æŒ‰ä¸‹SHIFTé”®",_.GET_DATA_PROP_OPTION_PROP_BUTTONS="é¼ æ ‡æŒ‰é”®å€¼",_.GET_DATA_PROP_OPTION_PROP_KEY="é”®ç›˜æŒ‰é”®å€¼",_.GET_DATA_PROP_OPTION_PROP_KEYCODE="é”®ç›˜æŒ‰é”®å€¼ç¼–ç ",_.GET_DATA_PROP_OPTION_PROP_PROPERTY="æ›´æ–°çš„å­˜å‚¨å±žæ€§",_.GET_DATA_PROP_OPTION_PROP_OLDVALUE="å±žæ€§åŽŸå€¼",_.GET_DATA_PROP_OPTION_PROP_NEWVALUE="å±žæ€§æ–°å€¼",_.EVENT_IMMEDIATELY="ç«‹å³",_.EVENT_ONCLICK="è¢«å•å‡»",_.EVENT_ONDBLCLICK="è¢«åŒå‡»",_.EVENT_ONMOUSEDOWN="æŒ‰ä¸‹é¼ æ ‡æŒ‰é”®",_.EVENT_ONMOUSEMOVE="é¼ æ ‡åœ¨å®ƒå†…éƒ¨ç§»åŠ¨",_.EVENT_ONMOUSEUP="é‡Šæ”¾é¼ æ ‡æŒ‰é”®",_.EVENT_ONMOUSEENTER="é¼ æ ‡è¿›å…¥å®ƒ",_.EVENT_ONMOUSELEAVE="é¼ æ ‡ç¦»å¼€å®ƒ",_.EVENT_ONTAP="è§¦å±çŸ­æŒ‰",_.EVENT_ONLONGTAP="è§¦å±é•¿æŒ‰",_.EVENT_ONDRAGGED="è¢«æ‹–æ‹½",_.EVENT_ONDRAGGEDONTO="å…¶å®ƒå…ƒç´ æ‹–æ‹½å…¥",_.EVENT_ONCOLLISION="ä¸Žå…¶ä»–å…ƒç´ ç¢°æ’ž",_.SIGNAL_ONEVENT_SEND_MSG0="%1 %2 å‘é€ %3 ðŸš©",_.SIGNAL_ONEVENT_SEND_MSG1="åŒ…å«æ¶ˆæ¯ %1",_.SIGNAL_ONEVENT_SEND_TOOLTIP="å½“äº‹ä»¶å‘ç”Ÿæ—¶ï¼Œå‘é€ä¿¡å·ã€‚",_.SPRITE_MSG0_TOOLTIP=`æŒ‡å®šå…ƒç´ ã€‚\n${_.SENDER_RECEIVER_TARGET_TOOLTIP}`,_.SPRITE_APPEND_TO_MSG0="å°† %1 æ·»åŠ åˆ° %2",_.SPRITE_APPEND_TO_TOOLTIP="æ·»åŠ å…ƒç´ åˆ°å±‚ã€‚",_.SPRITE_ATTRS_MSG0="è®¾ç½® %1 å±žæ€§",_.SPRITE_ATTRS_TOOLTIP="è®¾ç½®å±žæ€§å€¼åˆ°å…ƒç´ ã€‚",_.SPRITE_CREATE_ATTRS_MSG0="åˆ›å»º %1",_.SPRITE_CREATE_ATTRS_MSG1="å‘½åä¸º %1 åŒ…å«å±žæ€§",_.SPRITE_CREATE_ATTRS_TOOLTIP="åˆ›å»ºä¸€ä¸ªæŒ‡å®šåå­—çš„å…ƒç´ ã€‚å¯ä»¥ä½¿ç”¨å¾ªçŽ¯è¯­å¥åˆ›å»ºå¤šä¸ªåŒåå…ƒç´ ã€‚",_.SPRITE_EACH_ELEMENTS_NAMED_MSG0="æ‰€æœ‰åä¸º %1 çš„å…ƒç´ ",_.SPRITE_EACH_ELEMENTS_NAMED_TOOLTIP="èŽ·å¾—æŒ‡å®šåå­—çš„å…¨éƒ¨å…ƒç´ ã€‚",_.SPRITE_DESTROY_MSG0="ðŸ’£ é”€æ¯ %1",_.SPRITE_DESTROY_TOOLTIP="å°†å…ƒç´ ç§»é™¤å±‚å¹¶é”€æ¯ã€‚",_.SPRITE_GET_ATTR_MSG0="%1 çš„ %2",_.SPRITE_GET_ATTR_TOOLTIP="è¯»å–ç›®æ ‡å…ƒç´ çš„å±žæ€§å€¼ã€‚",_.MATH_RANDOM_INT_TITLE=`ðŸŽ² ${_.MATH_RANDOM_INT_TITLE}`,_.MATH_RANDOM_FLOAT_TITLE_RANDOM=`ðŸŽ² ${_.MATH_RANDOM_FLOAT_TITLE_RANDOM}`,_.LIST_FOREACH_MSG0="éåŽ†åˆ—è¡¨ %1:",_.LIST_FOREACH_MSG1="æ‰§è¡Œ %1",_.LIST_FOREACH_MSG2="%1 ä»£è¡¨æ¯ä¸ªå…ƒç´ , %2 ä»£è¡¨ç´¢å¼•",_.LIST_FOREACH_TOOLTIP="éåŽ†åˆ—è¡¨æ¯ä¸ªå…ƒç´ ï¼Œæ‰§è¡ŒåŠ¨ä½œã€‚",_.LIST_INDEX_TOOLTIP="èŽ·å–è¿­ä»£ç´¢å¼•ã€‚",_.LIST_ITEM_TOOLTIP="èŽ·å–è¿­ä»£å…ƒç´ ã€‚",_.OBJECT_GET_PROP_MSG0="%1.%2",_.OBJECT_GET_PROP_TOOLTIP="è¯»å–å¯¹è±¡å±žæ€§ã€‚",_.LISTS_CREATE_RANGE_MSG0="åˆ›å»ºåˆ—è¡¨èŒƒå›´",_.LISTS_CREATE_RANGE_MSG1="ä»Ž %1 åˆ° %2",_.LISTS_CREATE_RANGE_TOOLTIP="é€šè¿‡æ•´æ•°èŒƒå›´åˆ›å»ºåˆ—è¡¨ã€‚",_.STORE_SET_MSG0="ðŸ“ è®¾ç½® %1 çš„å€¼ä¸º %2",_.STORE_SET_TOOLTIP="è®¾ç½®å…±äº«æ•°æ®çš„å€¼ã€‚",_.STORE_GET_MSG0="ðŸ“ èŽ·å– %1 çš„å€¼",_.STORE_GET_TOOLTIP="èŽ·å–å…±äº«æ•°æ®çš„å€¼ã€‚",_.STORE_DELETE_MSG0="âœ‚ï¸ åˆ é™¤ %1 çš„å€¼",_.STORE_DELETE_TOOLTIP="åˆ é™¤å…±äº«æ•°æ®çš„å€¼ã€‚",_.FIELD_ATTR_TEXTUREFRAME_MSG0="åŠ¨ç”»å¸§ %1",_.FIELD_ATTR_TEXTUREFRAME_MSG1="æŒç»­æ—¶é—´ %1ç§’",_.FIELD_ATTR_TEXTUREFRAME_TOOLTIP="åœ¨å…ƒç´ ä¸Šè®¾ç½®åŠ¨ç”»å¸§ï¼ŒåŠ¨ç”»å¸§ä¼šè‡ªåŠ¨å¾ªçŽ¯æ’­æ”¾ã€‚",_.SOUND_PLAY_MSG0="ðŸ”” %1",_.SOUND_PLAY_TOOLTIP="æ’­æ”¾å£°éŸ³ã€‚",_.PROCEDURES_DEFRETURN_TITLE="å®šä¹‰ï¼š",_.PROCEDURES_DEFNORETURN_DO="æ‰§è¡Œ",_.PROCEDURES_MUTATORARG_TITLE="å‚æ•°åç§°",_.PROCEDURES_BEFORE_PARAMS="å‚æ•°ï¼š",_.PROCEDURES_CALL_BEFORE_PARAMS="ä»¤ï¼š",_.PROCEDURES_AWAIT_MSG0="âŒ›ï¸ å¾—åˆ°å¼‚æ­¥æ‰§è¡Œç»“æžœ %1",_.PROCEDURES_AWAIT_TOOLTIP="ç­‰å¾…ç›´åˆ°å¾—åˆ°å¼‚æ­¥æ‰§è¡Œç»“æžœã€‚"},function(t,e,i){const n=i(0),_=n.Msg;function T(t="key",e="",i=n.Msg.ATTRS_HUE,T="KeyValue"){const a={name:"KEY",type:"field_dropdown"},o={type:"input_value",name:"VALUE",check:e};return"string"==typeof t&&(t=[t]),Array.isArray(t)?a.options=t.map(t=>[_.$(t,"ATTR"),t]):"string"!=typeof t&&t.prop&&t.options&&(a.options=[[_.$(t.prop,"ATTR"),t.prop]],o.type="field_dropdown",o.options=t.options.map(t=>[_.$(t,"ATTR_VALUE"),t])),{message0:_.KEYVALUE_MSG0,args0:[a,o],colour:i,previousStatement:T,nextStatement:T}}function a(t){return`\n'${t.getFieldValue("KEY")}': ${n.JavaScript.valueToCode(t,"VALUE",n.JavaScript.ORDER_NONE)||`'${t.getFieldValue("VALUE")}'`||"null"},`}n.Blocks.field_attr_inc={init(){this.jsonInit({message0:_.FIELD_ATTR_INC_MSG0,args0:[{type:"field_dropdown",name:"OP",options:[["+","+"],["-","-"],["*","*"],["/","/"],["^","**"]]},{type:"input_value",name:"VALUE",check:"Number"}],colour:n.Msg.ATTRS_HUE,tooltip:_.FIELD_ATTR_INC_TOOLTIP}),this.setOutput(!0,"Number")}},n.JavaScript.field_attr_inc=function(t){return[`v => v ${t.getFieldValue("OP")} ${n.JavaScript.valueToCode(t,"VALUE",n.JavaScript.ORDER_NONE)||0}`,n.JavaScript.ORDER_NONE]},n.Blocks.field_attr_anchor={init(){this.jsonInit(T(["anchorX","anchorY"],"Number")),this.setTooltip(()=>_.FIELD_ATTR_ANCHOR_TOOLTIP.replace("%1",_.$(this.getFieldValue("KEY"),"ATTR")))}},n.Blocks.field_attr_xy={init(){this.jsonInit(T(["x","y"],"Number")),this.setTooltip(()=>_.FIELD_ATTR_XY_TOOLTIP.replace("%1",_.$(this.getFieldValue("KEY"),"ATTR")))}},n.Blocks.field_attr_size={init(){this.jsonInit(T(["width","height"],"Number")),this.setTooltip(()=>_.FIELD_ATTR_SIZE_TOOLTIP.replace("%1",_.$(this.getFieldValue("KEY"),"ATTR")))}},n.Blocks.field_attr_bgcolor={init(){this.jsonInit(T("bgcolor","Colour")),this.setTooltip(_.FIELD_ATTR_BGCOLOR_TOOLTIP)}},n.Blocks.field_attr_opacity={init(){this.jsonInit(T("opacity","Number")),this.setTooltip(_.FIELD_ATTR_OPACITY_TOOLTIP)}},n.Blocks.field_attr_rotate={init(){this.jsonInit(T("rotate","Number")),this.setTooltip(_.FIELD_ATTR_ROTATE_TOOLTIP)}},n.Blocks.field_attr_scale={init(){this.jsonInit(T(["scaleX","scaleY"],"Number")),this.setTooltip(()=>_.FIELD_ATTR_SCALE_TOOLTIP.replace("%1",_.$(this.getFieldValue("KEY"),"ATTR")))}},n.Blocks.field_attr_translate={init(){this.jsonInit(T(["translateX","translateY"],"Number")),this.setTooltip(()=>_.FIELD_ATTR_TRANSLATE_TOOLTIP.replace("%1",_.$(this.getFieldValue("KEY"),"ATTR")))}},n.Blocks.field_attr_skew={init(){this.jsonInit(T(["skewX","skewY"],"Number")),this.setTooltip(()=>_.FIELD_ATTR_SKEW_TOOLTIP.replace("%1",_.$(this.getFieldValue("KEY"),"ATTR")))}},n.Blocks.field_attr_borderRadius={init(){this.jsonInit(T("borderRadius","Number")),this.setTooltip(_.FIELD_ATTR_BORDERRADIUS_TOOLTIP)}},n.Blocks.field_attr_borderWidth={init(){this.jsonInit(T("borderWidth","Number")),this.setTooltip(_.FIELD_ATTR_BORDERWIDTH_TOOLTIP)}},n.Blocks.field_attr_borderStyle={init(){this.jsonInit(T({prop:"borderStyle",options:["solid","dashed"]},"String")),this.setTooltip(_.FIELD_ATTR_BORDERSTYLE_TOOLTIP)}},n.Blocks.field_attr_borderColour={init(){this.jsonInit(T("borderColor","Colour")),this.setTooltip(_.FIELD_ATTR_BORDERCOLOR_TOOLTIP)}},n.Blocks.field_attr_dashOffset={init(){this.jsonInit(T("dashOffset","Number")),this.setTooltip(_.FIELD_ATTR_DASHOFFSET_TOOLTIP)}},n.Blocks.field_attr_texture={init(){this.jsonInit(T("texture","String",n.Msg.ATTRS_SPRITE_HUE)),this.setTooltip(_.FIELD_ATTR_TEXTURE_TOOLTIP)}},n.Blocks.field_attr_text={init(){this.jsonInit(T("text","String",n.Msg.ATTRS_LABEL_HUE)),this.setTooltip(_.FIELD_ATTR_TEXT_TOOLTIP)}},n.Blocks.field_attr_fontSize={init(){this.jsonInit(T("fontSize","Number",n.Msg.ATTRS_LABEL_HUE)),this.setTooltip(_.FIELD_ATTR_FONTSIZE_TOOLTIP)}},n.Blocks.field_attr_fontFamily={init(){this.jsonInit(T("fontFamily","String",n.Msg.ATTRS_LABEL_HUE)),this.setTooltip(_.FIELD_ATTR_FONTFAMILY_TOOLTIP)}},n.Blocks.field_attr_fontStyle={init(){this.jsonInit(T({prop:"fontStyle",options:["normal","italic","oblique"]},"String",n.Msg.ATTRS_LABEL_HUE)),this.setTooltip(_.FIELD_ATTR_FONTSTYLE_TOOLTIP)}},n.Blocks.field_attr_fontVariant={init(){this.jsonInit(T({prop:"fontVariant",options:["normal","small-caps"]},"String",n.Msg.ATTRS_LABEL_HUE)),this.setTooltip(_.FIELD_ATTR_FONTVARIANT_TOOLTIP)}},n.Blocks.field_attr_fontWeight={init(){this.jsonInit(T({prop:"fontWeight",options:["normal","bold","bolder","lighter","100","200","300","400","500","600","700","800","900"]},"String",n.Msg.ATTRS_LABEL_HUE)),this.setTooltip(_.FIELD_ATTR_FONTWEIGHT_TOOLTIP)}},n.Blocks.field_attr_textAlign={init(){this.jsonInit(T({prop:"textAlign",options:["left","right","center"]},"String",n.Msg.ATTRS_LABEL_HUE)),this.setTooltip(_.FIELD_ATTR_TEXTALIGN_TOOLTIP)}},n.Blocks.field_attr_lineHeight={init(){this.jsonInit(T("lineHeight","Number",n.Msg.ATTRS_LABEL_HUE)),this.setTooltip(_.FIELD_ATTR_LINEHEIGHT_TOOLTIP)}},n.Blocks.field_attr_d={init(){this.jsonInit(T("d","String",n.Msg.ATTRS_PATH_HUE)),this.setTooltip(_.FIELD_ATTR_D_TOOLTIP)}},n.Blocks.field_attr_lineWidth={init(){this.jsonInit(T("lineWidth","Number",n.Msg.ATTRS_PATH_HUE)),this.setTooltip(_.FIELD_ATTR_LINEWIDTH_TOOLTIP)}},n.Blocks.field_attr_lineDash={init(){this.jsonInit(T("lineDash","String",n.Msg.ATTRS_PATH_HUE)),this.setTooltip(_.FIELD_ATTR_LINEDASH_TOOLTIP)}},n.Blocks.field_attr_lineDashOffset={init(){this.jsonInit(T("lineDashOffset","Number",n.Msg.ATTRS_PATH_HUE)),this.setTooltip(_.FIELD_ATTR_LINEDASHOFFSET_TOOLTIP)}},n.Blocks.field_attr_lineCap={init(){this.jsonInit(T({prop:"lineCap",options:["butt","round","square"]},"String",n.Msg.ATTRS_PATH_HUE)),this.setTooltip(_.FIELD_ATTR_LINECAP_TOOLTIP)}},n.Blocks.field_attr_lineJoin={init(){this.jsonInit(T({prop:"lineJoin",options:["miter","round","bevel"]},"String",n.Msg.ATTRS_PATH_HUE)),this.setTooltip(_.FIELD_ATTR_LINEJOIN_TOOLTIP)}},n.Blocks.field_attr_bounding={init(){this.jsonInit(T({prop:"bounding",options:["box","path"]},"String",n.Msg.ATTRS_PATH_HUE)),this.setTooltip(()=>_.FIELD_ATTR_BOUNDING_TOOLTIP.replace("%1",_.$(this.getFieldValue("VALUE"),"ATTR_VALUE")))}},n.Blocks.field_attr_strokeColour={init(){this.jsonInit(T("strokeColor","Colour",n.Msg.ATTRS_PATH_HUE)),this.setTooltip(_.FIELD_ATTR_STROKECOLOR_TOOLTIP)}},n.Blocks.field_attr_fillColour={init(){this.jsonInit(T("fillColor","Colour",n.Msg.ATTRS_PATH_HUE)),this.setTooltip(_.FIELD_ATTR_FILLCOLOR_TOOLTIP)}},n.Blocks.field_attr_cursor={init(){this.jsonInit(T({prop:"cursor",options:["default","crosshair","pointer","move","e-resize","ne-resize","nw-resize","n-resize","se-resize","sw-resize","s-resize","w-resize","text","wait","help"]},"String",n.Msg.ATTRS_HUE)),this.setTooltip(_.FIELD_ATTR_CURSOR_TOOLTIP)}},n.Blocks.field_attr_draggable={init(){this.jsonInit(T({prop:"draggable",options:["yes","no"]},"String",n.Msg.ATTRS_HUE)),this.setTooltip(_.FIELD_ATTR_DRAGGABLE_TOOLTIP)}},n.Blocks.field_attr_textureFrame={init(){this.jsonInit({message0:_.FIELD_ATTR_TEXTUREFRAME_MSG0,args0:[{type:"input_value",name:"FRAME",check:"String"}],message1:_.FIELD_ATTR_TEXTUREFRAME_MSG1,args1:[{type:"input_value",name:"DURATION",check:"Number"}],nextStatement:"KeyValue",previousStatement:"KeyValue",colour:n.Msg.ATTRS_SPRITE_HUE,tooltip:_.FIELD_ATTR_TEXTUREFRAME_TOOLTIP})}},n.JavaScript.field_attr_textureFrame=function(t){return`\n'${`textureFrame$${Math.random().toString(36).slice(2)}`}': ${`[${n.JavaScript.valueToCode(t,"FRAME",n.JavaScript.ORDER_NONE)||"null"}, ${n.JavaScript.valueToCode(t,"DURATION",n.JavaScript.ORDER_NONE)||"100"}]`},`},Object.keys(n.Blocks).forEach(t=>{0!==t.indexOf("field_attr")||n.JavaScript[t]||(n.JavaScript[t]=a)})},function(t,e,i){const n=i(0),_=n.Msg,T=_.ANIMATE_HUE;function a(t){let e=t.getParent();for(;null!=e;){if("procedures_defreturn"===e.type){e.isAsync_=!0;break}e=e.getParent()}}n.Blocks.await={init(){this.jsonInit({message0:_.AWAIT_MSG0,args0:[{type:"field_number",name:"MILLISEC",value:16}],colour:T,previousStatement:"Statement",nextStatement:null,tooltip:()=>_.AWAIT_TOOLTIP.replace("%1",this.getFieldValue("MILLISEC"))})}},n.JavaScript.await=function(t){const e=parseInt(t.getFieldValue("MILLISEC"),10);return a(t),`await spritly.runtime.wait(${e});\n`},n.Blocks.await_frame={init(){this.jsonInit({message0:_.AWAIT_FRAME_MSG0,args0:[{type:"field_dropdown",name:"LAYER",options:[[_.COMMON_FGLAYER,"fglayer"],[_.COMMON_BGLAYER,"bglayer"]]}],colour:T,previousStatement:"Statement",nextStatement:"Statement",tooltip:_.AWAIT_FRAME_TOOLTIP})}},n.JavaScript.await_frame=function(t){const e=t.getFieldValue("LAYER");return a(t),`await spritly.runtime.scene.layer('${e}').prepareRender();\n`},n.Blocks.sprite_animate={init(){this.jsonInit({message0:_.SPRITE_ANIMATE_MSG0,args0:[{type:"field_dropdown",name:"ASYNC?",options:[[_.SPRITE_ANIMATE_OPTION_ASYNC_DEFAULT,"-"],[_.SPRITE_ANIMATE_OPTION_ASYNC_AWAIT,"await"]]},{type:"input_value",name:"SPRITE",check:"Sprite"},{type:"input_value",name:"DURATION",check:"Number"}],message1:_.SPRITE_ANIMATE_MSG1,args1:[{type:"input_statement",name:"FROM_ATTRS",check:"KeyValue"}],message2:_.SPRITE_ANIMATE_MSG2,args2:[{type:"input_statement",name:"TO_ATTRS",check:"KeyValue"}],message3:_.SPRITE_ANIMATE_MSG3,args3:[{type:"input_value",name:"EASING",check:"String"}],colour:T,previousStatement:"Statement",nextStatement:"Statement",tooltip:_.SPRITE_ANIMATE_TOOLTIP})}},n.JavaScript.sprite_animate=function(t){const e="await"===t.getFieldValue("ASYNC?"),i=n.JavaScript.valueToCode(t,"SPRITE",n.JavaScript.ORDER_NONE)||"null",_=n.JavaScript.valueToCode(t,"DURATION",n.JavaScript.ORDER_NONE)||600,T=n.JavaScript.valueToCode(t,"EASING",n.JavaScript.ORDER_NONE)||'"ease"';let o=`${i}.animate([{${n.JavaScript.statementToCode(t,"FROM_ATTRS")}\n},{${n.JavaScript.statementToCode(t,"TO_ATTRS")}\n}], {duration: ${1e3*_}, fill: 'forwards', easing: ${T}})`;return e&&(a(t),o=`if(!${i}.layer) console.error('${i} must append to layer before animated!'); \nawait ${o}.finished`),`${o};\n`},n.Blocks.easing={init(){this.jsonInit({message0:"%1",args0:[{type:"field_dropdown",name:"EASING",options:[[_.EASING_OPTION_EASING_EASE,"ease"],[_.EASING_OPTION_EASING_EASEIN,"ease-in"],[_.EASING_OPTION_EASING_EASEOUT,"ease-out"],[_.EASING_OPTION_EASING_EASEINOUT,"ease-in-out"]]}],colour:T,output:"String",tooltip:_.EASING_OPTION_TOOLTIP})}},n.JavaScript.easing=function(t){return[`'${t.getFieldValue("EASING")}'`,n.JavaScript.ORDER_NONE]},n.Blocks.bezier_easing={init(){this.jsonInit({message0:_.BEZIER_EASING_MSG0,args0:[{type:"field_number",name:"X0",value:.68},{type:"field_number",name:"Y0",value:-.55},{type:"field_number",name:"X1",value:.265},{type:"field_number",name:"Y1",value:1.55}],colour:T,output:"String",tooltip:_.BEZIER_EASING_TOOLTIP})}},n.JavaScript.bezier_easing=function(t){return[`'cubic-bezier(${t.getFieldValue("X0")},${t.getFieldValue("Y0")},${t.getFieldValue("X1")},${t.getFieldValue("Y1")})'`,n.JavaScript.ORDER_NONE]}},function(t,e,i){const n=i(0),_=n.Msg;n.Blocks.nil={init(){this.jsonInit({message0:"%1",args0:[{type:"field_dropdown",name:"VALUE",options:[[_.LITERAL_NULL,"null"],[_.LITERAL_UNDEFINED,"undefined"]]}],colour:_.LITERAL_HUE}),this.setOutput(!0),this.setTooltip(()=>_.NIL_TOOLTIP.replace("%1",this.getFieldValue("VALUE")))}},n.JavaScript.nil=function(t){return[t.getFieldValue("VALUE"),n.JavaScript.ORDER_NONE]},n.Blocks.boolean={init(){n.Blocks.logic_boolean.init.call(this),this.setColour(n.Msg.LITERAL_HUE)}},n.JavaScript.boolean=n.JavaScript.logic_boolean,n.Blocks.number={init(){n.Blocks.math_number.init.call(this),this.setColour(n.Msg.LITERAL_HUE)}},n.JavaScript.number=n.JavaScript.math_number,n.Blocks.string={init(){n.Blocks.text.init.call(this),this.setColour(n.Msg.LITERAL_HUE)}},n.JavaScript.string=n.JavaScript.text,n.Blocks.object_create={init(){this.appendDummyInput().appendField("new Object"),this.appendStatementInput("FIELDS").setCheck(["KeyValue"]),this.setOutput(!0),this.setColour(_.LITERAL_HUE),this.setTooltip(_.OBJECT_CREATE_TOOLTIP)}},n.JavaScript.object_create=function(t){return[`{${n.JavaScript.statementToCode(t,"FIELDS")}\n}`,n.JavaScript.ORDER_MEMBER]};const T=n.Blocks.colour_picker.init;n.Blocks.colour_picker.init=function(){T.call(this),this.setColour(n.Msg.LITERAL_HUE)},n.Blocks.loop_get_index={init(){this.jsonInit({message0:_.LOOP_GET_INDEX_MSG0,colour:_.LITERAL_HUE,output:"Number",tooltip:_.LOOP_GET_INDEX_TOOLTIP})}},n.JavaScript.loop_get_index=function(t){return["index",n.JavaScript.ORDER_NONE]}},function(t,e,i){const n=i(0),_=n.Msg,T=n.Msg.LOG_HUE;n.Blocks.log_log={init(){this.jsonInit({message0:"ðŸ“‹ %1 %2",args0:[{type:"field_dropdown",name:"LOG",options:[[_.LOG_OPTION_LOG_LOG,"log"],[_.LOG_OPTION_LOG_WARN,"warn"],[_.LOG_OPTION_LOG_ERROR,"error"]]},{type:"input_value",name:"MSG"}],colour:T,previousStatement:"Statement",nextStatement:"Statement",tooltip:_.LOG_TOOLTIP})}},n.JavaScript.log_log=function(t){const e=n.JavaScript.valueToCode(t,"MSG",n.JavaScript.ORDER_NONE);return`console.${t.getFieldValue("LOG")}(${e});\n`},n.Blocks.log_alert={init(){this.jsonInit({message0:_.LOG_ALERT_MSG0,args0:[{type:"input_value",name:"MSG"}],colour:T,previousStatement:"Statement",nextStatement:"Statement",tooltip:_.LOG_ALERT_TOOLTIP})}},n.JavaScript.log_alert=function(t){return`alert(${n.JavaScript.valueToCode(t,"MSG",n.JavaScript.ORDER_NONE)});\n`}},function(t,e,i){const n=i(0),_=n.Msg,T=n.Msg.MATH_HUE;n.Blocks.random_string={init(){this.jsonInit({message0:_.RANDOM_STRING_MSG0,colour:T,output:"String",tooltip:_.RANDOM_STRING_TOOLTIP})}},n.JavaScript.random_string=function(t){return["'Math.random().toString(36).slice(2)'",n.JavaScript.ORDER_NONE]},n.Blocks.random_colour_rgb={init(){this.jsonInit({message0:_.RANDOM_COLOUR_RGB_MSG0,colour:T,output:"Colour",tooltip:_.RANDOM_COLOUR_RGB_TOOLTIP})}},n.JavaScript.random_colour_rgb=function(t){return["spritly.runtime.random_color()",n.JavaScript.ORDER_NONE]},n.Blocks.random_colour_hue={init(){this.jsonInit({message0:_.RANDOM_COLOUR_HUE_MSG0,message1:_.RANDOM_COLOUR_HUE_MSG1,args1:[{type:"field_number",name:"S",value:100},{type:"field_number",name:"L",value:50},{type:"field_number",name:"A",value:1}],colour:T,output:"Colour",tooltip:_.RANDOM_COLOUR_HUE_TOOLTIP})}},n.JavaScript.random_colour_hue=function(t){Math.floor(360*Math.random());return[`spritly.runtime.random_color_hue(${t.getFieldValue("S")},${t.getFieldValue("L")},${t.getFieldValue("A")})`,n.JavaScript.ORDER_NONE]}},function(t,e,i){const n=i(0),_=n.Msg,T=_.LISTS_HUE;n.Blocks.lists_create_range={init(){this.jsonInit({message0:_.LISTS_CREATE_RANGE_MSG0,message1:_.LISTS_CREATE_RANGE_MSG1,args1:[{type:"input_value",name:"FROM",check:"Number"},{type:"input_value",name:"TO",check:"Number"}],inputsInline:!0,output:"Array",colour:T,tooltip:_.LISTS_CREATE_RANGE_TOOLTIP})}},n.JavaScript.lists_create_range=function(t){const e=n.JavaScript.valueToCode(t,"FROM",n.JavaScript.ORDER_ASSIGNMENT)||"0",i=n.JavaScript.valueToCode(t,"TO",n.JavaScript.ORDER_ASSIGNMENT)||"0";return[`(Array.from({length: Math.abs(${e} - ${i}) + 1}).map((_, i) => ${e} + (${e} - ${i} > 0 ? -1 : 1) * i))`,n.JavaScript.ORDER_NONE]}},function(t,e,i){const n=i(0),_=n.Msg;n.Blocks.key_value={init(){this.jsonInit({message0:_.KEYVALUE_MSG0,args0:[{type:"input_value",name:"KEY",check:"String"},{type:"input_value",name:"VALUE"}],colour:_.GETTER_SETTER_HUE,previousStatement:"KeyValue",nextStatement:"KeyValue"}),this.setTooltip(_.KEYVALUE_TOOLTIP)}},n.JavaScript.key_value=function(t){return`\n${n.JavaScript.valueToCode(t,"KEY",n.JavaScript.ORDER_NONE)||"key"}: ${n.JavaScript.valueToCode(t,"VALUE",n.JavaScript.ORDER_NONE)||"null"},`},n.Blocks.object_get_prop={init(){this.jsonInit({message0:_.OBJECT_GET_PROP_MSG0,args0:[{type:"input_value",name:"OBJECT"},{type:"input_value",name:"PROP",check:"String"}],inputsInline:!0,output:null,colour:_.GETTER_SETTER_HUE}),this.setTooltip(_.OBJECT_GET_PROP_TOOLTIP)}},n.JavaScript.object_get_prop=function(t){return[`${n.JavaScript.valueToCode(t,"OBJECT",n.JavaScript.ORDER_NONE)||"Object()"}[${n.JavaScript.valueToCode(t,"PROP",n.JavaScript.ORDER_NONE)||"key"}]`,n.JavaScript.ORDER_NONE]}},function(t,e,i){const n=i(0),_=n.Msg,T=_.STORE_HUE;n.Blocks.store_set={init(){this.jsonInit({message0:_.STORE_SET_MSG0,args0:[{type:"input_value",name:"KEY",check:"String"},{type:"input_value",name:"VALUE"}],inputsInline:!0,colour:T,previousStatement:"Statement",nextStatement:"Statement",tooltip:_.STORE_SET_TOOLTIP})}},n.JavaScript.store_set=function(t){return`spritly.runtime.Store.set(${n.JavaScript.valueToCode(t,"KEY",n.JavaScript.ORDER_MEMBER)||"'key'"}, ${n.JavaScript.valueToCode(t,"VALUE",n.JavaScript.ORDER_ASSIGNMENT)||"null"}, target);\n`},n.Blocks.store_get={init(){this.jsonInit({message0:_.STORE_GET_MSG0,args0:[{type:"input_value",name:"KEY",check:"String"}],colour:T,output:null,tooltip:_.STORE_GET_TOOLTIP})}},n.JavaScript.store_get=function(t){return[`spritly.runtime.Store.get(${n.JavaScript.valueToCode(t,"KEY",n.JavaScript.ORDER_MEMBER)||"'key'"})`,n.JavaScript.ORDER_NONE]},n.Blocks.store_delete={init(){this.jsonInit({message0:_.STORE_DELETE_MSG0,args0:[{type:"input_value",name:"KEY",check:"String"}],colour:T,output:null,tooltip:_.STORE_DELETE_TOOLTIP})}},n.JavaScript.store_delete=function(t){return[`spritly.runtime.Store.delete(${n.JavaScript.valueToCode(t,"KEY",n.JavaScript.ORDER_MEMBER)||"'key'"})`,n.JavaScript.ORDER_NONE]}},function(t,e,i){const n=i(0),_=n.Msg,T=_.SOUND_HUE;n.Blocks.sound_play={init(){this.jsonInit({message0:_.SOUND_PLAY_MSG0,args0:[{type:"input_value",name:"SOUND",check:"String"}],colour:T,previousStatement:"Statement",nextStatement:"Statement",tooltip:_.SOUND_PLAY_TOOLTIP})}},n.JavaScript.sound_play=function(t){return`spritly.runtime.Audio.play(${n.JavaScript.valueToCode(t,"SOUND",n.JavaScript.ORDER_NONE)});\n`}},function(t,e,i){const n=i(0),_=n.Msg;n.Blocks.procedures_defreturn.scope=!0,n.Blocks.procedures_mutatorarg.validator_=function(t){const e=n.Mutator.findParentWs(this.sourceBlock_.workspace);if(!(t=t.replace(/[\s\xa0]+/g," ").replace(/^ | $/g,"")))return null;let i=e.getVariable(t,"");return i&&i.name!==t&&e.renameVarById(i.getId(),t),i||(i=e.createVariable(t,null,`ARGS$$${Math.random().toString(36).slice(2)}`))&&this.createdVariables_&&this.createdVariables_.push(i),t},n.Blocks.procedures_defreturn.updateVarName=function(t){for(var e=t.name,i=!1,_=0;_<this.argumentVarModels_.length;_++)if(this.argumentVarModels_[_].getId()==t.getId()){var T=this.arguments_[_];this.arguments_[_]=e,i=!0}i&&(this.displayRenamedVar_(T,e),n.Procedures.mutateCallers(this))},n.Blocks.procedures_callreturn.setProcedureParameters_=function(t,e){var i=n.Procedures.getDefinition(this.getProcedureCall(),this.workspace),_=i&&i.mutator&&i.mutator.isVisible();if(_||(this.quarkConnections_={},this.quarkIds_=null),e)if(t.join("\n")!=this.arguments_.join("\n")){if(e.length!=t.length)throw RangeError("paramNames and paramIds must be the same length.");this.setCollapsed(!1),this.quarkIds_||(this.quarkConnections_={},this.quarkIds_=[]);var T=this.rendered;this.rendered=!1;for(var a=0;a<this.arguments_.length;a++){var o=this.getInput("ARG"+a);if(o){var r=o.connection.targetConnection;this.quarkConnections_[this.quarkIds_[a]]=r,_&&r&&-1==e.indexOf(this.quarkIds_[a])&&(r.disconnect(),r.getSourceBlock().bumpNeighbours_())}}if(this.arguments_=[].concat(t),this.updateShape_(),this.quarkIds_=e,this.quarkIds_)for(a=0;a<this.arguments_.length;a++){var s=this.quarkIds_[a];if(s in this.quarkConnections_){r=this.quarkConnections_[s];n.Mutator.reconnect(r,this,"ARG"+a)||delete this.quarkConnections_[s]}}this.rendered=T,this.rendered&&this.render()}else this.quarkIds_=e},n.JavaScript.procedures_defreturn=function(t){var e=n.JavaScript.variableDB_.getName(t.getFieldValue("NAME"),n.Procedures.NAME_TYPE),i=n.JavaScript.statementToCode(t,"STACK");if(n.JavaScript.STATEMENT_PREFIX){var _=t.id.replace(/\$/g,"$$$$");i=n.JavaScript.prefixLines(n.JavaScript.STATEMENT_PREFIX.replace(/%1/g,"'"+_+"'"),n.JavaScript.INDENT)+i}n.JavaScript.INFINITE_LOOP_TRAP&&(i=n.JavaScript.INFINITE_LOOP_TRAP.replace(/%1/g,"'"+t.id+"'")+i);var T=n.JavaScript.valueToCode(t,"RETURN",n.JavaScript.ORDER_NONE)||"";T&&(T=n.JavaScript.INDENT+"return "+T+";\n");for(var a=[],o=0;o<t.arguments_.length;o++)a[o]=n.JavaScript.variableDB_.getName(t.arguments_[o],n.Variables.NAME_TYPE);var r="";this.isAsync_&&(r="async ",e=e.replace(/^âŒ›ï¸/,""));var s=r+"function "+e+"("+a.join(", ")+") {\n"+i+T+"}";return s=n.JavaScript.scrub_(t,s),n.JavaScript.definitions_["%"+e]=s,null},n.Blocks.procedures_await={init(){this.jsonInit({message0:_.PROCEDURES_AWAIT_MSG0,args0:[{type:"input_value",name:"PROMISE"}],colour:_.PROCEDURE_HUE,output:null,tooltip:_.PROCEDURES_AWAIT_TOOLTIP})}},n.JavaScript.procedures_await=function(t){return[`(await ${n.JavaScript.valueToCode(t,"PROMISE",n.JavaScript.ORDER_NONE)||"null"})`,n.JavaScript.ORDER_NONE]},n.Blocks.procedures_call={init(){this.jsonInit({message0:"%1 %2",args0:[{type:"field_dropdown",name:"CALLTYPE",options:[[_.SPRITE_ANIMATE_OPTION_ASYNC_DEFAULT,"void"],[_.SPRITE_ANIMATE_OPTION_ASYNC_AWAIT,"await"]]},{type:"input_value",name:"PROC"}],colour:_.PROCEDURE_HUE,nextStatement:"Statement",previousStatement:"Statement"})}},n.JavaScript.procedures_call=function(t){return`${t.getFieldValue("CALLTYPE")} ${n.JavaScript.valueToCode(t,"PROC",n.JavaScript.ORDER_NONE)||"null"};\n`}},function(t,e,i){const n=i(0);n.Generator.prototype.indent=function(t){return this.prefixLines(t,this.INDENT)},n.JavaScript.init=function(t){n.JavaScript.definitions_=Object.create(null),n.JavaScript.functionNames_=Object.create(null),n.JavaScript.variableDB_?n.JavaScript.variableDB_.reset():n.JavaScript.variableDB_=new n.Names(n.JavaScript.RESERVED_WORDS_),n.JavaScript.variableDB_.setVariableMap(t.getVariableMap());const e=[],i=n.Variables.allDeveloperVariables(t);for(let t=0;t<i.length;t++)e.push(n.JavaScript.variableDB_.getName(i[t],n.Names.DEVELOPER_VARIABLE_TYPE));const _=n.Variables.allUsedVarModels(t).filter(t=>0!==t.getId().indexOf("ARGS$$"));for(let t=0;t<_.length;t++)e.push(n.JavaScript.variableDB_.getName(_[t].getId(),n.Variables.NAME_TYPE));e.length&&(n.JavaScript.definitions_.variables=`let ${e.join(", ")};`)},n.Generator.prototype.workspaceToCode=function(t){t||(console.warn("No workspace specified in workspaceToCode call.  Guessing."),t=n.getMainWorkspace());let e=[];this.init(t);let i=t.getTopBlocks(!0);i=i.filter(t=>t.scope);for(let t=0;t<i.length;t++){const n=i[t];let _=this.blockToCode(n);Array.isArray(_)&&(_=_[0]),_&&(n.outputConnection&&(_=this.scrubNakedValue(_)),"function"==typeof n.scope&&(_=n.scope(this,_)),e.push(_))}return e=e.join("\n"),e=(e=(e=(e=this.finish(e)).replace(/^\s+\n/,"")).replace(/\n\s+$/,"\n")).replace(/[ \t]+\n/g,"\n")}},,function(t,e,i){"use strict";i.r(e);i(1),i(2);const n=i(0),{Msg:_}=n;_.$=((t,e="COMMON")=>{const i=`${e}_${t.toUpperCase()}`;return i in _?_[i]:t});i(3),i(4);const T=new Map,a=[],o={set(t,e){const i=T.get(t)||new Set;return i.add(e),T.set(t,i),i},delete(t,e){const i=T.get(t)||new Set;return i.delete(e),i},get:t=>[...T.get(t)||[]],clear(){T.clear()},addBlockFields(t,e,i){a.push({key:t,type:e,fieldName:i})},createFromBlockFields(t){a.forEach(e=>{const{key:i,type:n,fieldName:_}=e;t.querySelectorAll(`block[type="${n}"] > field[name="${_}"]`).forEach(t=>{o.set(i,t.textContent)})})}},r=i(0),s=r.Msg,E=r.Blocks.controls_if.init;r.Blocks.controls_if.init=function(){E.call(this);for(let t=0;t<20;t++){const e=this.getInput(`DO${t}`);if(!e)break;e.setCheck("Statement")}this.setNextStatement(!0,"Statement"),this.setPreviousStatement(!0,"Statement"),this.setColour(s.FLOWS_HUE)},r.Constants.Logic.CONTROLS_IF_MUTATOR_MIXIN.saveConnections=function(t){let e,i,n=t.nextConnection.targetBlock(),_=1;for(;n;){switch(n.type){case"controls_if_elseif":e=this.getInput(`IF${_}`),(i=this.getInput(`DO${_}`)).setCheck("Statement"),n.valueConnection_=e&&e.connection.targetConnection,n.statementConnection_=i&&i.connection.targetConnection,_++;break;case"controls_if_else":(i=this.getInput("ELSE")).setCheck("Statement"),n.statementConnection_=i&&i.connection.targetConnection;break;default:throw TypeError(`Unknown block type: ${n.type}`)}n=n.nextConnection&&n.nextConnection.targetBlock()}};const l=r.Blocks.controls_repeat_ext.init;r.Blocks.controls_repeat_ext.init=function(){l.call(this),this.getInput("DO").setCheck("Statement"),this.setNextStatement(!0,"Statement"),this.setPreviousStatement(!0,"Statement"),this.setColour(s.FLOWS_HUE)},r.JavaScript.controls_repeat_ext=function(t){let e;e=t.getField("TIMES")?String(Number(t.getFieldValue("TIMES"))):r.JavaScript.valueToCode(t,"TIMES",r.JavaScript.ORDER_ASSIGNMENT)||"0";let i=r.JavaScript.statementToCode(t,"DO");i=r.JavaScript.addLoopTrap(i,t.id);let n="";const _=r.JavaScript.variableDB_.getDistinctName("count",r.Variables.NAME_TYPE);let T=e,a="";return e.match(/^\w+$/)||r.isNumber(e)||(a=`, ${T=r.JavaScript.variableDB_.getDistinctName("repeat_end",r.Variables.NAME_TYPE)} = ${e}`),n+=`for(let ${_} = 0${a}; ${_} < ${T}; ${_}++){\n${i}}\n`};const O=r.Blocks.controls_whileUntil.init;r.Blocks.controls_whileUntil.init=function(){O.call(this),this.getInput("DO").setCheck("Statement"),this.setNextStatement(!0,"Statement"),this.setPreviousStatement(!0,"Statement"),this.setColour(s.FLOWS_HUE)},r.Blocks.list_foreach={init(){this.jsonInit({message0:s.LIST_FOREACH_MSG0,args0:[{type:"input_value",name:"LIST",check:["String","Array"]}],message1:s.LIST_FOREACH_MSG1,args1:[{type:"input_statement",name:"DO",check:"Statement"}],message2:s.LIST_FOREACH_MSG2,args2:[{type:"field_input",name:"ITEM",text:"item"},{type:"field_dropdown",name:"INDEX",options:["i","j","k","l","m"].map(t=>[t,t])}],colour:s.FLOWS_HUE,previousStatement:"Statement",nextStatement:"Statement",tooltip:s.LIST_FOREACH_TOOLTIP})}},r.JavaScript.list_foreach=function(t){const e=r.JavaScript.valueToCode(t,"LIST",r.JavaScript.ORDER_NONE)||"[]",i=t.getFieldValue("ITEM"),n=t.getFieldValue("INDEX");let _=r.JavaScript.statementToCode(t,"DO"),T=/^([\s\t]+)/.exec(_);return T=T?`\n${T[0]}`:`\n${r.Generator.prototype.INDENT}`,_&&(_=`${_}\n`),`await ${e}.reduce(async function($$prestep, ${i}, ${n}) {${T}await $$prestep;\n${_}}, null);\n`},r.Blocks.list_index={init(){this.jsonInit({message0:"%1",args0:[{type:"field_dropdown",name:"INDEX",options:["i","j","k","l","m"].map(t=>[t,t])}],output:"Number",colour:s.FLOWS_HUE,tooltip:s.LIST_INDEX_TOOLTIP})}},r.JavaScript.list_index=function(t){return[t.getFieldValue("INDEX"),r.JavaScript.ORDER_NONE]},r.Blocks.list_item={init(){this.jsonInit({message0:"%1",args0:[{type:"field_dropdown",name:"ITEM",options:()=>{const t=o.get("ListItems");return t.length?t.map(t=>[t,t]):[["item","item"]]}}],output:null,colour:s.FLOWS_HUE,tooltip:s.LIST_ITEM_TOOLTIP})}},r.JavaScript.list_item=function(t){return[t.getFieldValue("ITEM"),r.JavaScript.ORDER_NONE]};i(5);const S=i(0),R=S.Msg,A=S.Msg.SIGNALS_HUE;function I(...t){const e=["START","STORE_PROPERTY_UPDATE","LAYER_CLICKED","KEYDOWN","KEYUP","ELEMENT_CREATED","ELEMENT_DESTROYED"];return()=>[...e,...t,...o.get("Signals")].map(t=>[R.$(t,"SIGNAL_DO_OPTION_SIGNAL"),t])}function c(){const t=o.get("Sprites");return t.length>0?t.map(t=>[t,t]):[["",""]]}S.Blocks.signal_do={init(){this.jsonInit({message0:R.SIGNAL_DO_MSG0,args0:[{type:"field_dropdown",name:"SIGNAL",options:I()}],colour:A,nextStatement:"Statement",tooltip:R.SIGNAL_DO_TOOLTIP})},scope(t,e){return`spritly.runtime.Signal.on('${this.getFieldValue("SIGNAL")}', async function(sender, data){\n  let target = data[spritly.runtime.Symbols.target] || sender;\n  let receiver = target;\n\n${t.indent(e)}});`}},S.JavaScript.signal_do=function(t){return""},S.Blocks.signal_new_sprite_as_receiver={init(){const t=`Sprite_${Math.random().toString().slice(2,7)}`;this.jsonInit({message0:R.SIGNAL_NEW_SPRITE_AS_RECEIVER_MSG0,args0:[{type:"field_dropdown",name:"SIGNAL",options:I()}],message1:R.SIGNAL_NEW_SPRITE_AS_RECEIVER_MSG1,args1:[{type:"field_dropdown",name:"TYPE",options:[[R.COMMON_SPRITE,"Sprite"],[R.COMMON_LABEL,"Label"],[R.COMMON_PATH,"Path"]]}],message2:R.SIGNAL_NEW_SPRITE_AS_RECEIVER_MSG2,args2:[{type:"field_input",name:"ID",text:t}],colour:A,nextStatement:"Statement",tooltip:R.SIGNAL_NEW_SPRITE_AS_RECEIVER_TOOLTIP})},scope(t,e){const i=this.getFieldValue("SIGNAL"),n=this.getFieldValue("ID");return`spritly.runtime.Signal.on('${i}', async function(sender, data){\n  let receiver = spritly.runtime.ElementList.getElementById('${n}');\n  if(receiver == null){\n    receiver = spritly.runtime.spritejs.createElement('${this.getFieldValue("TYPE")}', {id: '${n}'});\n    spritly.runtime.ElementList.add(receiver);\n  }\n  let target = data[spritly.runtime.Symbols.target] || receiver;\n\n${t.indent(e)}});`}},S.JavaScript.signal_new_sprite_as_receiver=function(t){return""},S.Blocks.signal_when_receiver_is={init(){this.jsonInit({message0:R.SIGNAL_WHEN_RECEIVER_IS_MSG0,args0:[{type:"field_dropdown",name:"SIGNAL",options:I("ELEMENT_CREATED")}],message1:R.SIGNAL_WHEN_RECEIVER_IS_MSG1,args1:[{type:"field_dropdown",name:"ID",options:c}],colour:A,nextStatement:"Statement",tooltip:R.SIGNAL_NEW_SPRITE_AS_RECEIVER_TOOLTIP})},scope(t,e){return`spritly.runtime.Signal.on('${this.getFieldValue("SIGNAL")}', async function(sender, data){\n  const receiver = spritly.runtime.ElementList.getElementById('${this.getFieldValue("ID")}');\n  let target = data[spritly.runtime.Symbols.target] || receiver;\n\n${t.indent(e)};});`}},S.JavaScript.signal_when_receiver_is=function(){return""},S.Blocks.get_data={init(){this.jsonInit({message0:R.GET_DATA_MSG0,colour:A,output:"Object",tooltip:R.GET_DATA_TOOLTIP})}},S.JavaScript.get_data=function(t){return["data",S.JavaScript.ORDER_NONE]},S.Blocks.get_data_prop={init(){this.jsonInit({message0:R.GET_DATA_PROP_MSG0,args0:[{type:"field_dropdown",name:"PROP",options:["offsetX","offsetY","layerX","layerY","altKey","ctrlKey","shiftKey","buttons","key","keyCode"].map(t=>[R.$(t,"GET_DATA_PROP_OPTION_PROP"),t])}],colour:A,output:["Number","String","Boolean"],tooltip:R.GET_DATA_PROP_TOOLTIP})}},S.JavaScript.get_data_prop=function(t){return[`data[spritly.runtime.Symbols.${t.getFieldValue("PROP")}]`,S.JavaScript.ORDER_NONE]},S.Blocks.get_store_data_prop={init(){this.jsonInit({message0:R.GET_DATA_PROP_MSG0,args0:[{type:"field_dropdown",name:"PROP",options:["property","oldValue","newValue"].map(t=>[R.$(t,"GET_DATA_PROP_OPTION_PROP"),t])}],colour:A,output:null,tooltip:R.GET_DATA_PROP_TOOLTIP2})}},S.JavaScript.get_store_data_prop=function(t){return[`data[spritly.runtime.Symbols.${t.getFieldValue("PROP")}]`,S.JavaScript.ORDER_MEMBER]};const p=["immediately","onclick","ondblclick","onmousedown","onmousemove","onmouseup","onmouseenter","onmouseleave","ontap","onlongtap","ondragged","ondraggedonto","oncollision"];S.Blocks.signal_onevent_send={init(){this.jsonInit({message0:R.SIGNAL_ONEVENT_SEND_MSG0,args0:[{type:"input_value",name:"SPRITE",check:"Sprite"},{type:"field_dropdown",name:"EVENT",options:p.map(t=>[R.$(t,"EVENT"),t])},{type:"field_input",name:"SIGNAL",text:"MY_SIGNAL"}],message1:R.SIGNAL_ONEVENT_SEND_MSG1,args1:[{type:"input_statement",name:"DATA",check:"KeyValue"}],colour:A,previousStatement:"Statement",nextStatement:"Statement",tooltip:`${R.SIGNAL_ONEVENT_SEND_TOOLTIP}\n${R.SENDER_RECEIVER_TARGET_TOOLTIP}`})}},S.JavaScript.signal_onevent_send=function(t){const e=S.JavaScript.valueToCode(t,"SPRITE",S.JavaScript.ORDER_NONE)||"null",i=t.getFieldValue("EVENT"),n=t.getFieldValue("SIGNAL"),_=S.JavaScript.statementToCode(t,"DATA");if("immediately"!==i&&"oncollision"!==i){return`${e}.on('${i.slice(2)}', \n  evt => {\n    const {altKey, buttons, ctrlKey, shiftKey} = evt.originalEvent;\n    const runtime = spritly.runtime;\n    runtime.Signal.send('${n}', ${e},\n      Object.assign(\n        {\n          [runtime.Symbols.target]: evt.target,\n          [runtime.Symbols.offsetX]: evt.offsetX,\n          [runtime.Symbols.offsetY]: evt.offsetY,\n          [runtime.Symbols.layerX]: evt.layerX,\n          [runtime.Symbols.layerY]: evt.layerY,\n          [runtime.Symbols.altKey]: altKey,\n          [runtime.Symbols.buttons]: buttons,\n          [runtime.Symbols.ctrlKey]: ctrlKey,\n          [runtime.Symbols.shiftKey]: shiftKey,\n        },\n        {${_}},\n      ));\n  });`}return"oncollision"===i?`${e}.on('update', () => {\n  spritly.runtime.getCollisions(${e}).forEach((s) => {\n    spritly.runtime.Signal.send('${n}', ${e}, {[spritly.runtime.Symbols.target]: s});      \n  });\n});\n${e}.forceUpdate();\n`:`spritly.runtime.Signal.send('${n}', ${e}, {${_}});\n`};const u=i(0).Msg;const L=i(0),N=L.Msg,d=L.Msg.SPRITE_HUE,P={type:"field_dropdown",name:"SPRITE",options:function(){const t=o.get("Sprites");return[[u.COMMON_TARGET,"target"],[u.COMMON_SENDER,"sender"],[u.COMMON_RECEIVER,"receiver"]].concat(t.map(t=>[t,t]))}};function m(){return["id","name","anchorX","anchorY","x","y","width","height","bgcolor","opacity","rotate","scaleX","scaleY","translateX","translateY","skewX","skewY","borderRadius","borderWidth","borderStyle","borderColor","dashOffset","texture","text","fontSize","fontFamily","fontStyle","fontVariant","fontWeight","textAlign","lineHeight","d","lineWidth","lineDash","lineDashOffset","lineCap","lineJoin","bounding","strokeColor","fillColor"].map(t=>[N.$(t,"ATTR"),t])}L.Blocks.sprite={init(){this.jsonInit({message0:"%1",args0:[P],colour:d,output:"Sprite",tooltip:N.SPRITE_MSG0_TOOLTIP})}},L.JavaScript.sprite=function(t){let e=t.getFieldValue("SPRITE");return"target"!==e&&"sender"!==e&&"receiver"!==e&&"item"!==e&&(e=`spritly.runtime.ElementList.getElementById('${e}')`),[e,L.JavaScript.ORDER_NONE]},L.Blocks.sprite_append_to={init(){this.jsonInit({message0:N.SPRITE_APPEND_TO_MSG0,args0:[{type:"input_value",name:"SPRITE",check:"Sprite"},{type:"field_dropdown",name:"LAYER",options:[[N.COMMON_FGLAYER,"fglayer"],[N.COMMON_BGLAYER,"bglayer"]]}],colour:d,previousStatement:"Statement",nextStatement:"Statement",tooltip:`${N.SPRITE_APPEND_TO_TOOLTIP}\n${N.FGLAYER_BGLAYER_TOOTIP}`})}},L.JavaScript.sprite_append_to=function(t){const e=L.JavaScript.valueToCode(t,"SPRITE",L.JavaScript.ORDER_NONE)||"null";return`spritly.runtime.scene.layer('${t.getFieldValue("LAYER")}').append(${e});\n`},L.Blocks.sprite_attrs={init(){this.jsonInit({message0:N.SPRITE_ATTRS_MSG0,args0:[{type:"input_value",name:"SPRITE",check:"Sprite"}],message1:"%1",args1:[{type:"input_statement",name:"ATTRS",check:"KeyValue"}],colour:d,previousStatement:"Statement",nextStatement:"Statement",tooltip:N.SPRITE_ATTRS_TOOLTIP})}},L.JavaScript.sprite_attrs=function(t){const e=L.JavaScript.valueToCode(t,"SPRITE",L.JavaScript.ORDER_NONE)||"null";return`${e}.attr(spritly.runtime.parse_attr(${e}, {${L.JavaScript.statementToCode(t,"ATTRS")}\n}));\n`},L.Blocks.sprite_create_attrs={init(){this.jsonInit({message0:N.SPRITE_CREATE_ATTRS_MSG0,args0:[{type:"field_dropdown",name:"TYPE",options:[[N.COMMON_SPRITE,"Sprite"],[N.COMMON_LABEL,"Label"],[N.COMMON_PATH,"Path"]]}],message1:N.SPRITE_CREATE_ATTRS_MSG1,args1:[{type:"field_input",name:"NAME",text:"MyName"}],message2:"%1",args2:[{type:"input_statement",name:"ATTRS",check:"KeyValue"}],colour:d,previousStatement:"Statement",nextStatement:"Statement",tooltip:N.SPRITE_CREATE_ATTRS_TOOLTIP})}},L.JavaScript.sprite_create_attrs=function(t){return`spritly.runtime.ElementList.add(() => {\n  const sprite = spritly.runtime.spritejs.createElement('${t.getFieldValue("TYPE")}');\n  sprite.attr(spritly.runtime.parse_attr(sprite, {name: '${t.getFieldValue("NAME")}'}, {${L.JavaScript.statementToCode(t,"ATTRS").split(/\n/g).join(`\n${L.Generator.prototype.INDENT}`)}\n  }));\n  return sprite;\n});\n`},L.Blocks.sprite_each_elements_named={init(){this.jsonInit({message0:N.SPRITE_EACH_ELEMENTS_NAMED_MSG0,args0:[{type:"field_dropdown",name:"NAME",options:()=>{const t=o.get("SpriteNames");return t.length>0?t.map(t=>[t,t]):[["",""]]}}],colour:d,output:"Array",tooltip:N.SPRITE_EACH_ELEMENTS_NAMED_TOOLTIP})}},L.JavaScript.sprite_each_elements_named=function(t){return[`spritly.runtime.ElementList.getElementsByName('${t.getFieldValue("NAME")}')`,L.JavaScript.ORDER_NONE]},L.Blocks.sprite_destroy={init(){this.jsonInit({message0:N.SPRITE_DESTROY_MSG0,args0:[{type:"input_value",name:"SPRITE",check:"Sprite"}],colour:d,previousStatement:"Statement",nextStatement:"Statement",tooltip:N.SPRITE_DESTROY_TOOLTIP})}},L.JavaScript.sprite_destroy=function(t){return`spritly.runtime.ElementList.remove(${L.JavaScript.valueToCode(t,"SPRITE",L.JavaScript.ORDER_NONE)||"null"});\n`},L.Blocks.sprite_get_attr={init(){this.jsonInit({message0:N.SPRITE_GET_ATTR_MSG0,args0:[{type:"input_value",name:"SPRITE",check:"Sprite"},{type:"field_dropdown",name:"ATTR",options:m}],colour:d,output:!0,tooltip:N.SPRITE_GET_ATTR_TOOLTIP})}},L.JavaScript.sprite_get_attr=function(t){return[`spritly.runtime.get_attr(${L.JavaScript.valueToCode(t,"SPRITE",L.JavaScript.ORDER_NONE)||"null"}, '${t.getFieldValue("ATTR")}')`,L.JavaScript.ORDER_NONE]};i(6),i(7),i(8),i(9),i(10),i(11),i(12),i(13);i.d(e,"Blockly",function(){return g}),i.d(e,"initWorkspace",function(){return D}),i.d(e,"pack",function(){return M}),i.d(e,"unpack",function(){return h}),i.d(e,"Dropdown",function(){return o});const g=i(0);function D(t,e){return g.inject(t,e)}function M(t){const e=[];t.querySelectorAll("next > block").forEach(t=>{const i=t.parentNode.parentNode;t.parentNode.remove(),t.remove(),function(t){for(let i=0;i<e.length;i++){const n=e[i];if(n.has(t))return n}const i=new Set;return i.add(t),e.push(i),i}(i).add(t)}),e.forEach(t=>{const e=[...t],i=e[0].parentNode,n=document.createElement("blocks");i.insertBefore(n,e[0]),e[0].remove(),e.forEach(t=>n.appendChild(t))})}function h(t){t.querySelectorAll("blocks").forEach(t=>{const e=t.children[0];if(e){let i=e;const n=[...t.children];for(let t=1;t<n.length;t++){const e=n[t];e.remove();const _=document.createElement("next");_.appendChild(e),i.appendChild(_),i=e}e.remove(),t.parentNode.insertBefore(e,t),t.remove()}})}g.BlockSvg.START_HAT=!0,g.Field.prototype.maxDisplayLength=20,o.addBlockFields("Signals","signal_onevent_send","SIGNAL"),o.addBlockFields("SpriteNames","sprite_create_attrs","NAME"),o.addBlockFields("ListItems","list_foreach","ITEM"),o.addBlockFields("Sprites","signal_new_sprite_as_receiver","ID")}]);